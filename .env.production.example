# ============================================
# AutoCognitix - Production Environment Variables
# ============================================
# Copy this file to .env.production and fill in all required values
# NEVER commit the actual .env.production file to version control!
#
# Required variables are marked with [REQUIRED]
# Optional variables have default values or can be left empty
# ============================================

# ==========================================
# DOMAIN CONFIGURATION [REQUIRED]
# ==========================================
# Your production domain (e.g., autocognitix.example.com)
DOMAIN=autocognitix.example.com

# Email for Let's Encrypt SSL certificates [REQUIRED]
ACME_EMAIL=admin@example.com

# ==========================================
# DOCKER IMAGE CONFIGURATION
# ==========================================
# Tag for built images (use git commit hash or version)
IMAGE_TAG=latest

# ==========================================
# POSTGRESQL DATABASE [REQUIRED]
# ==========================================
# Use strong, unique passwords in production!
# Generate with: openssl rand -base64 32
POSTGRES_USER=autocognitix
POSTGRES_PASSWORD=CHANGE_THIS_SECURE_PASSWORD
POSTGRES_DB=autocognitix

# Full database URL (constructed from above)
# DATABASE_URL is set automatically in docker-compose.prod.yml

# ==========================================
# NEO4J GRAPH DATABASE [REQUIRED]
# ==========================================
# Neo4j credentials
NEO4J_USER=neo4j
NEO4J_PASSWORD=CHANGE_THIS_SECURE_PASSWORD

# If using external Neo4j (Neo4j Aura):
# NEO4J_URI=neo4j+s://xxxxx.databases.neo4j.io
# NEO4J_PASSWORD=your_aura_password

# ==========================================
# QDRANT VECTOR DATABASE
# ==========================================
# Using internal Qdrant (default in docker-compose)
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# If using Qdrant Cloud:
# QDRANT_URL=https://xxxxx.cloud.qdrant.io:6333
# QDRANT_API_KEY=your_qdrant_api_key

# ==========================================
# REDIS CACHE
# ==========================================
# Using internal Redis (default in docker-compose)
# REDIS_URL is set automatically in docker-compose.prod.yml

# ==========================================
# APPLICATION SECURITY [REQUIRED]
# ==========================================
# Generate with: openssl rand -hex 32
# MUST be at least 32 characters long!
SECRET_KEY=CHANGE_THIS_GENERATE_WITH_OPENSSL_RAND_HEX_32

# JWT Configuration [REQUIRED]
# Generate with: openssl rand -hex 32
JWT_SECRET_KEY=CHANGE_THIS_GENERATE_WITH_OPENSSL_RAND_HEX_32
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# ==========================================
# CORS CONFIGURATION
# ==========================================
# Comma-separated list of allowed origins
# In production, this should be your actual frontend domain
BACKEND_CORS_ORIGINS=https://autocognitix.example.com

# ==========================================
# LLM PROVIDER CONFIGURATION [REQUIRED - one of these]
# ==========================================
# Choose your LLM provider: anthropic, openai, or local
LLM_PROVIDER=anthropic

# Anthropic Claude API (recommended for production)
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# OpenAI API (alternative)
# OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# OPENAI_MODEL=gpt-4-turbo-preview

# Local LLM (Ollama) - for self-hosted deployments
# OLLAMA_BASE_URL=http://ollama:11434
# OLLAMA_MODEL=llama2

# ==========================================
# HUNGARIAN NLP CONFIGURATION
# ==========================================
# huBERT model for Hungarian language embeddings
HUBERT_MODEL=SZTAKI-HLT/hubert-base-cc
EMBEDDING_DIMENSION=768

# HuSpaCy model for Hungarian NLP
# Note: Requires special installation on some platforms
HUSPACY_MODEL=hu_core_news_lg

# ==========================================
# EXTERNAL APIS (Optional)
# ==========================================
# NHTSA API (free, no key required)
NHTSA_API_BASE_URL=https://vpic.nhtsa.dot.gov/api

# YouTube Data API v3 (optional, for video indexing)
YOUTUBE_API_KEY=

# CarMD API (optional, paid service)
CARMD_API_KEY=
CARMD_PARTNER_TOKEN=

# CarAPI (optional, freemium)
CARAPI_API_KEY=

# ==========================================
# LOGGING & MONITORING
# ==========================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json (recommended for production), text
LOG_FORMAT=json

# Sentry error tracking (recommended for production)
# Get DSN from sentry.io
SENTRY_DSN=

# ==========================================
# RATE LIMITING
# ==========================================
# API rate limits per user
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==========================================
# TRAEFIK DASHBOARD (Optional)
# ==========================================
# Basic auth for Traefik dashboard
# Generate with: htpasswd -nb admin <password>
# Default is admin:admin - CHANGE IN PRODUCTION!
TRAEFIK_DASHBOARD_USER=admin
TRAEFIK_DASHBOARD_PASSWORD=$apr1$H6uskkkW$IgXLP6ewTrSuBkTrqE8wj/

# ==========================================
# BACKUP CONFIGURATION (Optional)
# ==========================================
# S3-compatible storage for backups
# BACKUP_S3_ENDPOINT=s3.amazonaws.com
# BACKUP_S3_BUCKET=autocognitix-backups
# BACKUP_S3_ACCESS_KEY=
# BACKUP_S3_SECRET_KEY=
# BACKUP_S3_REGION=eu-central-1

# ==========================================
# EMAIL CONFIGURATION (Optional)
# ==========================================
# SMTP settings for email notifications
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=
# SMTP_TLS=true
# EMAILS_FROM_EMAIL=noreply@autocognitix.example.com
# EMAILS_FROM_NAME=AutoCognitix

# ==========================================
# PRODUCTION CHECKLIST
# ==========================================
# Before deploying to production, ensure:
#
# 1. [ ] All [REQUIRED] variables are set
# 2. [ ] All passwords are strong (min 32 chars, random)
# 3. [ ] DOMAIN is set to your actual domain
# 4. [ ] ACME_EMAIL is a valid email for SSL notifications
# 5. [ ] At least one LLM API key is configured
# 6. [ ] SENTRY_DSN is configured for error tracking
# 7. [ ] Traefik dashboard password is changed
# 8. [ ] CORS origins match your frontend domain
# 9. [ ] This file is NOT committed to version control
# 10. [ ] Backups are configured (recommended)
#
# Security notes:
# - Use different passwords for each database
# - Rotate secrets periodically
# - Monitor Sentry for errors
# - Review Traefik logs regularly
# - Set up alerts for failed health checks
